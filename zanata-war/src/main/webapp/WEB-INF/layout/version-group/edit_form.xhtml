<ui:fragment
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:zanata="http://java.sun.com/jsf/composite/zanata"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:rich="http://richfaces.org/rich">

  <div class="l--push-top-half form__item">
    <script type="application/javascript">
      jQuery(document).ready(function () {
        var nameFieldId = "[id='#{rich:clientId('nameField')}']"
        jQuery(nameFieldId).find('input').focus()
      })
    </script>

    <h:outputLabel for="name">#{msgs['jsf.GroupName']}
      <span class="txt--required">*</span>
    </h:outputLabel>
    <zanata:decorate id="name" componentId="nameField">
      <h:inputText id="name" required="true" maxlength="80"
        value="#{versionGroupHome.instance.name}">
        <a4j:ajax event="blur" render="nameField" execute="@this"/>
      </h:inputText>
    </zanata:decorate>
  </div>
  <div class="l--push-top-half form__item">
    <h:outputLabel for="slug">#{msgs['jsf.GroupId']}
      <span class="txt--required">*</span>
    </h:outputLabel>
    <h:inputText rendered="#{versionGroupHome.managed}" id="slugReadOnly"
      disabled="true"
      value="#{versionGroupHome.instance.slug}">
    </h:inputText>
    <zanata:decorate id="slug" componentId="slugField">
      <h:inputText rendered="#{not versionGroupHome.managed}" maxlength="40"
        id="slug" required="true"
        value="#{versionGroupHome.instance.slug}"
        valueChangeListener="#{versionGroupHome.verifySlugAvailable}">
        <a4j:ajax event="blur" render="slugField" execute="@this"/>
        <f:validateLength minimum="1"/>
      </h:inputText>
    </zanata:decorate>
  </div>
  <div class="l--push-top-half form__item">
    <h:outputLabel for="description">
      #{msgs['jsf.GroupDescription']}
    </h:outputLabel>
    <zanata:decorate id="description" componentId="descriptionField">
      <h:inputTextarea id="description" required="false"
        value="#{versionGroupHome.instance.description}">
        <f:validateLength maximum="100"/>
        <a4j:ajax event="blur" render="descriptionField" execute="@this"/>
      </h:inputTextarea>
    </zanata:decorate>
  </div>
</ui:fragment>
