<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:s="http://jboss.org/schema/seam/taglib"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:a4j="http://richfaces.org/a4j"
  xmlns:rich="http://richfaces.org/rich"
  template="/WEB-INF/facelets/email/template_email.xhtml">

  <ui:param name="toName" value="#{emailServiceImpl.toName}"/>
  <ui:param name="toEmailAddr" value="#{emailServiceImpl.toEmailAddr}"/>
  <ui:param name="replyToName" value="#{sendEmail.fromName}"/>
  <ui:param name="replyToEmail" value="#{sendEmail.replyEmail}"/>
  <ui:param name="subject"
    value="#{msgs.format('jsf.email.coordinator.SubjectPrefix',
      sendEmail.locale.localeId.id, sendEmail.fromLoginName)} #{sendEmail.subject}"/>

  <ui:define name="body">
    <p>#{msgs['jsf.email.coordinator.DearCoordinator']}</p>

    <p>#{msgs.format('jsf.email.coordinator.UserMessageIntro',
      sendEmail.fromName, sendEmail.fromLoginName, sendEmail.locale.localeId.id,
      sendEmail.locale.retrieveNativeName())}</p>
    <hr/>
    <h:outputText value="#{sendEmail.htmlMessage}" escape="false"/>
    <hr/>
    <p>#{msgs.format('jsf.email.coordinator.ResponseInstructions',
      sendEmail.locale.localeId.id, sendEmail.fromName, sendEmail.replyEmail)}</p>

    <p>
      <a
        href="#{applicationConfiguration.serverPath}/language/view/#{sendEmail.locale.localeId.id}">
        #{applicationConfiguration.serverPath}/language/view/#{sendEmail.locale.localeId.id}
      </a>
    </p>
  </ui:define>

</ui:composition>
