<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:composite="http://java.sun.com/jsf/composite"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html">

<composite:interface>
  <composite:attribute name="onValueChanged" required="true"
    shortDescription="a4j:jsFunction to be called when checkbox value changed (args1[key], args2[value])"/>

  <composite:attribute name="checked" type="java.lang.Boolean"
    shortDescription="checked flag for checkbox" required="true"/>

  <composite:attribute name="value" type="java.lang.String"
    shortDescription="String value of the checkbox" required="true"/>

  <composite:attribute name="label" type="java.lang.String"
    shortDescription="display text of checkbox" required="true"/>

  <composite:attribute name="escapeLabel" type="java.lang.Boolean" default="true"
    shortDescription="Flag indicating that characters that are sensitive in HTML and XML markup must be escaped. This flag
                is set to 'true' by default."/>

  <composite:attribute name="labelStyle" type="java.lang.String"
    shortDescription="css style for label"/>

  <composite:attribute name="styleClass" type="java.lang.String"
    shortDescription="css style for wrapper of checkbox"/>

</composite:interface>

<composite:implementation>
  <div class="form__checkbox js-form__checkbox #{cc.attrs.styleClass}" id="#{cc.clientId}"
    onclick="onCheckboxValueChanged(this, #{cc.attrs.onValueChanged})">
    <ui:fragment rendered="#{cc.attrs.checked}">
      <input type="checkbox" value="#{cc.attrs.value}"
        class="form__checkbox__input js-form__checkbox__input"
        checked="checked"/>
    </ui:fragment>
    <ui:fragment rendered="#{!cc.attrs.checked}">
      <input type="checkbox" value="#{cc.attrs.value}"
        class="form__checkbox__input js-form__checkbox__input"/>
    </ui:fragment>
    <label class="form__checkbox__label js-form__checkbox__label #{cc.attrs.labelStyle}">
      <h:outputText value="#{cc.attrs.label}" escape="#{cc.attrs.escapeLabel}"/>
    </label>
    <composite:insertChildren/>
  </div>
</composite:implementation>
</html>
